<!DOCTYPE html>
<html>
<head>
  <title>ExpenseShare</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">

</head>
<body>

 <div class="fixed-header">
    <header class="header flex">  
   
 
 <% if user_signed_in? %>

     <div class="account">
       <strong><%= link_to "Hello, #{current_user.name}", current_user %></strong>.
     </p>
     <%= link_to 'Edit profile', edit_user_registration_path, :class => 'account-edit' %> |
     <%= link_to "Sign out", destroy_user_session_path, :method => :delete, :class => 'account-logout'  %>
     <% else %>
     <div class="register">
       <%= link_to "Sign up", new_user_registration_path, :class => 'signup btn'  %> |
       <%= link_to "Login", new_user_session_path, :class => 'login btn'  %>

     </div>
     <% end %> 
   </header>
 </div>
<br>
<br>
<br>

  <p class="notice"><%= notice %></p>
  <p class="alert"><%= alert %></p> 

<section>
<div class="block">


<br>
<br>
<br>
<br>
</div>
</section>

<%= yield %>

</header>

<script type="text/javascript">
      // Taken from http://www.sutanaryan.com/how-to-create-fixed-menu-when-scrolling-page-with-css-and-jquery/
      jQuery("document").ready(function($){
        var nav_container = $("#fixed_header");
        if(nav_container.offset()) {
          var offset = nav_container.offset().top;
        }

        console.log(offset);

        $(window).scroll(function () {
          if( $(this).scrollTop() > offset) {
            nav_container.addClass("f-nav");
          } else {
            nav_container.removeClass("f-nav");
          }
        });
      });

      $(function() {
        $('a[href*=#]:not([href=#])').click(function() {
          if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
            if (target.length) {
              $('html,body').animate({
                scrollTop: target.offset().top
              }, 1000);
              return false;
            }
          }
        });
      });
    </script>
  </body>
  </html>